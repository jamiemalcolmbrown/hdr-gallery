
:root { --g: 12px; --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
        --bg: #0b0b0b; --panel: #111; --line: #222; --text: #eaeaea; }
* { box-sizing: border-box; }
body { margin: 0; font-family: var(--font); background: var(--bg); color: var(--text); }
header { padding: 12px 16px; border-bottom: 1px solid var(--line); position: sticky; top: 0; background: #0b0b0bcc; backdrop-filter: blur(6px); z-index: 2; }
h1 { font-size: 18px; margin: 0; font-weight: 600; }

.layout { display: grid; grid-template-columns: 280px 1fr; gap: 0; min-height: calc(100vh - 56px); }
.sidebar { border-right: 1px solid var(--line); padding: 12px; position: sticky; top: 56px; align-self: start; height: calc(100vh - 56px); overflow: auto; }
.content { min-height: 100%; }

.block { margin-bottom: 16px; }
.block h2 { font-size: 13px; font-weight: 700; letter-spacing: 0.02em; text-transform: uppercase; opacity: 0.8; margin: 8px 0; }

.switch { display: inline-flex; gap: 6px; align-items: center; font-size: 12px; margin-top: 8px; }
.refresh { margin-top: 8px; width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--line); background: var(--panel); color: var(--text); cursor: pointer; }

.chip-col { display: flex; flex-direction: column; gap: 8px; }
.chip-col.scroll { max-height: 45vh; overflow: auto; padding-right: 6px; }
.chip { width: 100%; text-align: left; padding: 12px 14px; border-radius: 12px; border: 1px solid var(--line); background: var(--panel); color: var(--text); cursor: pointer; font-size: 14px; }
.chip.active { outline: 2px solid #555; }

/* Low-saturation season colors */
.chip.season-spring { background: #142a14; border-color: #1e3a1e; } /* dark desaturated green */
.chip.season-summer { background: #2a2a14; border-color: #3a3a1e; } /* dark desaturated yellow/olive */
.chip.season-autumn { background: #2a1f14; border-color: #3a2a1e; } /* dark desaturated orange/brown */
.chip.season-winter { background: #141f2a; border-color: #1e2a3a; } /* dark desaturated blue */

main { min-height: calc(100vh - 60px); }

/* Masonry (no-crop) */
.masonry { column-count: 5; column-gap: var(--g); padding: var(--g); }
@media (max-width: 1600px) { .masonry { column-count: 4; } }
@media (max-width: 1200px) { .masonry { column-count: 3; } }
@media (max-width: 900px)  { .masonry { column-count: 2; } }
@media (max-width: 640px)  { .masonry { column-count: 1; } }

.card { break-inside: avoid; -webkit-column-break-inside: avoid; margin-bottom: var(--g); background: var(--panel); border: 1px solid var(--line); border-radius: 12px; overflow: hidden; display: inline-block; width: 100%; }
.card img { width: 100%; height: auto; display: block; cursor: zoom-in; }
.meta { font-size: 12px; padding: 8px; color: #cfcfcf; display: flex; justify-content: space-between; gap: 6px; }
.meta .title { font-weight: 600; }
.meta .state { opacity: 0.8; }

/* Fullscreen overlay */
.fs { position: fixed; inset: 0; background: rgba(0,0,0,0.96); display: flex; align-items: center; justify-content: center; z-index: 20; }
.fs.hidden { display: none; }
.fs img { max-width: 92vw; max-height: 90vh; object-fit: contain; display: block; transition: opacity 250ms ease; opacity: 0; }
.fs img.loaded { opacity: 1; }
.fs-close { position: absolute; top: 10px; right: 10px; background: #1e1e1e; border: 1px solid var(--line); color: var(--text); border-radius: 10px; padding: 8px 12px; cursor: pointer; }
.fs-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: #1e1e1e; border: 1px solid var(--line); color: var(--text); border-radius: 999px; width: 42px; height: 42px; display: grid; place-items: center; font-size: 18px; cursor: pointer; opacity: 0.9; }
.fs-arrow.left { left: 12px; }
.fs-arrow.right { right: 12px; }

/* Fullscreen meta overlay */
.fs-info {
  position: absolute;
  left: 12px;
  bottom: 12px;
  max-width: 60vw;
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px 12px;
  align-items: start;
}

.badge {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: rgba(30,30,30,0.85);
  font-size: 12px;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.fs-text {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: rgba(15,15,15,0.72);
  backdrop-filter: blur(6px);
  color: var(--text);
}

.fs-title { font-weight: 700; font-size: 16px; line-height: 1.3; margin-bottom: 4px; }
.fs-loc   { opacity: 0.85; font-size: 13px; margin-bottom: 6px; }
.fs-desc  { opacity: 0.9; font-size: 13px; line-height: 1.25; white-space: pre-wrap; }

/* Small screens */
@media (max-width: 900px) {
  .layout { grid-template-columns: 1fr; }
  .sidebar { position: static; height: auto; border-right: none; border-bottom: 1px solid var(--line); }
  .fs-info { max-width: 86vw; left: 10px; right: 10px; grid-template-columns: auto 1fr; }
  .fs-title { font-size: 15px; }
  .fs-desc, .fs-loc { font-size: 12px; }
}
