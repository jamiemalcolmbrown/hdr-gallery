
:root { --g: 12px; --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }
* { box-sizing: border-box; }
body { margin: 0; font-family: var(--font); background: #0b0b0b; color: #eaeaea; }
header { display: grid; grid-template-columns: 1fr auto auto; gap: var(--g); align-items: center; padding: 12px 16px; border-bottom: 1px solid #222; position: sticky; top: 0; background: #0b0b0bcc; backdrop-filter: blur(6px); z-index: 1; }
h1 { font-size: 18px; margin: 0 8px 0 0; font-weight: 600; grid-column: 1 / -1; }
.controls { display: grid; grid-template-columns: 1fr auto auto; gap: var(--g); align-items: center; width: 100%; }
.switch { display: inline-flex; gap: 6px; align-items: center; font-size: 12px; }
main { min-height: calc(100vh - 60px); }

/* Masonry (no-crop) */
.masonry { column-count: 5; column-gap: var(--g); padding: var(--g); }
@media (max-width: 1400px) { .masonry { column-count: 4; } }
@media (max-width: 1100px) { .masonry { column-count: 3; } }
@media (max-width: 800px)  { .masonry { column-count: 2; } }
@media (max-width: 520px)  { .masonry { column-count: 1; } }

.card { break-inside: avoid; -webkit-column-break-inside: avoid; margin-bottom: var(--g); background: #111; border: 1px solid #222; border-radius: 12px; overflow: hidden; display: inline-block; width: 100%; }
.card img { width: 100%; height: auto; display: block; cursor: zoom-in; }
.meta { font-size: 12px; padding: 8px; color: #cfcfcf; display: flex; justify-content: space-between; gap: 6px; }
.meta .title { font-weight: 600; }
.meta .state { opacity: 0.8; }

/* Fullscreen overlay centered via flex */
.fs { position: fixed; inset: 0; background: rgba(0,0,0,0.96); display: flex; align-items: center; justify-content: center; z-index: 20; }
.fs.hidden { display: none; }
.fs img { max-width: 92vw; max-height: 90vh; object-fit: contain; display: block; }
.fs-close { position: absolute; top: 10px; right: 10px; background: #1e1e1e; border: 1px solid #333; color: #eee; border-radius: 10px; padding: 8px 12px; cursor: pointer; }
.fs-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: #1e1e1e; border: 1px solid #333; color: #eee; border-radius: 999px; width: 40px; height: 40px; display: grid; place-items: center; font-size: 18px; cursor: pointer; opacity: 0.9; }
.fs-arrow.left { left: 12px; }
.fs-arrow.right { right: 12px; }

.chip-row { display: flex; gap: 6px; flex-wrap: wrap; }
.chip { background: #171717; border: 1px solid #333; color: #eaeaea; padding: 6px 10px; border-radius: 999px; cursor: pointer; font-size: 12px; }
.chip.active { background: #2a2a2a; border-color: #555; }
